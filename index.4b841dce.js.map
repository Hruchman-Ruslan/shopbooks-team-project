{"mappings":"oeAAAA,EAAA,S,WCAA,IAAAC,EAAAD,EAAA,S,oDCAAE,EAAAF,EAAA,SAEA,MAAMG,EAAO,CACXC,UAAWC,SAASC,cAAc,mBDKpC,MAAMC,EAAO,CACXH,UAAWC,SAASC,cAAc,mBAE9BE,EAAsB,IAAI,EAAAP,EAAAQ,SAIhC,SAASC,IACPR,EAAAS,OAAOC,QAAQ,4C,CAJjBJ,EAAoBK,cAAcC,MCNnB,SAAgCC,GACvB,IAAhBA,EAAKC,QACPd,EAAAS,OAAOC,QAAQ,qDAGjB,MAAMK,EAASF,EACZG,KACC,EAACC,UAAEA,EAASC,MAAEA,KACZ,uEACgCD,mDAElCC,EACCF,KACC,EAACG,WAAEA,EAAUC,MAAEA,EAAKC,OAAEA,EAAMC,IAAEA,KAC5B,4EAC4BA,wGAElBH,oSAMiBC,2CACLC,0DAKzBE,KAAK,iGAKPA,KAAK,IAERtB,EAAKC,UAAUsB,UAAYT,C,ID9BgCU,MAAMjB,GACrEH,EAAKH,UAAUwB,iBAAiB,SAMhC,SAAiBC,GAEf,GAA0B,MAAtBA,EAAEC,OAAOC,SAAkB,CAC7B,MACMC,EADuBH,EAAEC,OAAOG,YACIC,OAC1C1B,EAAoB2B,mBAAmBH,GAAclB,KAAKsB,EAAA3B,SAA0B,EAAA4B,EAAA5B,SAAYuB,IAAeL,MAAMjB,E,MAElH,GAA0B,WAAtBmB,EAAEC,OAAOC,SAAuB,CACvC,GAAIF,EAAEC,OAAOQ,UAAUC,SAAS,wBAAyB,CACvD,MAAMC,EAAiBX,EAAEC,OAAOW,QAAQC,GAExC,YADA,EAAAC,EAAAlC,SAAY+B,E,CAGd,MAEMR,EADJH,EAAEC,OAAOc,uBAAuBA,uBAAuBX,YAChBC,OACzC1B,EAAoB2B,mBAAmBH,GAAclB,KAAKsB,EAAA3B,SAAyB,EAAA4B,EAAA5B,SAAYuB,IAAeL,MAAMjB,GAMtHmC,OAAOC,SAAS,EAAG,E,iBEzCA,CACjBC,GAAI1C,SAASC,cAAc,YAC3B0C,WAAW,EACXC,OACQC,KAAKH,GAAGT,UAAUC,SAAS,iBAAmBW,KAAKH,GAAGT,UAAUC,SAAS,mBACzEW,KAAKH,GAAGT,UAAUa,OAAO,eACzBD,KAAKH,GAAGT,UAAUc,IAAI,iBACtBP,OAAOQ,YAAW,KACdH,KAAKH,GAAGT,UAAUa,OAAO,gBAAgB,GAC1C,K,EAGXG,OACSJ,KAAKH,GAAGT,UAAUC,SAAS,gBAAmBW,KAAKH,GAAGT,UAAUC,SAAS,mBAC1EW,KAAKH,GAAGT,UAAUc,IAAI,iBACtBP,OAAOQ,YAAW,KACdH,KAAKH,GAAGT,UAAUc,IAAI,eACtBF,KAAKH,GAAGT,UAAUa,OAAO,gBAAgB,GAC1C,K,EAGXvB,mBAEqBiB,OAAVjB,iBAAiB,UAAU,KAC9B,MAAM2B,EAAUV,OAAOU,SAAWlD,SAASmD,gBAAgBC,UACvDP,KAAKF,WAAaO,EAAU,IAGhCL,KAAKF,WAAY,EAEbO,EAAU,IAESL,KAAdD,OAGiBC,KAAjBI,OAAM,IAIDjD,SAATC,cAAc,YAAYoD,QAAU,KACzCR,KAAKF,WAAY,EACjBE,KAAKI,OAELT,OAAOC,SAAS,CACZa,IAAK,EACLC,KAAM,EACNC,SAAU,UACZ,C,IAKRjC,mB","sources":["src/index.js","src/js/home/home.js","src/js/home/renderBestSellersBooks.js","src/js/scroll-up/scroll-up.js"],"sourcesContent":["import './js/support-ukraine/support-ukraine';\nimport './js/authorization-modal/authorization-modal';\nimport './js/home/home';\nimport './js/spinner/spinner';\nimport './js/scroll-up/scroll-up';\nimport './js/category/category';\nimport './js/burger-menu/burger-menu';\nimport './js/header/checkbox';\nimport './js/category/renderCatdListByCategory';\nimport './js/category/updateTitle';\nimport './js/home/renderBestSellersBooks';","import NewsApiBooksService from '../api-service/api-service';\nimport { Notify } from 'notiflix';\nimport renderModal from '../pop-up/pop-up';\nimport renderCardListByCategory from '../category/renderCatdListByCategory';\nimport updateTitle from '../category/updateTitle';\nimport renderBestSellersBooks from './renderBestSellersBooks';\n\n\nconst refs = {\n  container: document.querySelector('.gallery__list'),\n};\nconst newsApiBooksService = new NewsApiBooksService();\nnewsApiBooksService.getTopBooks().then(renderBestSellersBooks).catch(onError);\nrefs.container.addEventListener('click', onClick);\n\nfunction onError() {\n  Notify.failure('an error occurred, please try again later');\n}\n\nfunction onClick(e) {\n\n  if (e.target.nodeName === 'A') {\n    const searchCategotyByLink = e.target.textContent;\n    const nameCategory = searchCategotyByLink.trim(); \n    newsApiBooksService.getBooksByCategory(nameCategory).then(renderCardListByCategory, updateTitle(nameCategory)).catch(onError);\n  } \n  else if (e.target.nodeName === 'BUTTON') {\n    if (e.target.classList.contains('card-container__link')) {\n      const searchCardById = e.target.dataset.id;\n      renderModal(searchCardById);\n      return;\n    }\n    const searchCategotyByBtn =\n      e.target.previousElementSibling.previousElementSibling.textContent;\n    const nameCategory = searchCategotyByBtn.trim(); \n    newsApiBooksService.getBooksByCategory(nameCategory).then(renderCardListByCategory,updateTitle(nameCategory)).catch(onError);\n    scrollPage();\n  }\n}\n\nfunction scrollPage(){\n  window.scrollTo(0, 0);\n}","import { Notify } from 'notiflix';\n\nconst refs = {\n  container: document.querySelector('.gallery__list'),\n};\n\nexport default function renderBestSellersBooks(data) {\n    if (data.length === 0) {\n      Notify.failure('Oops, there is no books according to your request');\n    }\n  \n    const markup = data\n      .map(\n        ({ list_name, books }) =>\n          `<li class=\"gallery__item\">\n      <a class=\"gallery__link\" href=\"#\">${list_name}</a>\n      <ul class=\"card-container\">\n      ${books\n        .map(\n          ({ book_image, title, author, _id }) =>\n            `<li class=\"card-container__item\">\n      <button type=\"button\"  data-id=\"${_id}\" class=\"card-container__link\">\n          <div class=\"card-container__thumb\">\n          <img src=\"${book_image}\" alt=\"book-image\" loading=\"lazy\" width=\"180px\" height=\"256px\" class=\"card-container__image\" />\n          <div class=\"overlay\">\n              <p class=\"overlay__text\">quick view</p>\n          </div>\n          </div>\n          <div class=\"desk\">\n          <h3 class=\"desk__subtitle\">${title}</h3>\n          <p class=\"desk__text\">${author}</p>\n          </div>\n      </button>\n      </li>`\n        )\n        .join('')}\n  </ul>\n  <button class=\"gallery__btn button\" type=\"button\">see more</button>\n  </li>`\n      )\n      .join('');\n  \n    refs.container.innerHTML = markup;\n  }","export const btnUp = {\n    el: document.querySelector('.btn__up'),\n    scrolling: false,\n    show() {\n        if (this.el.classList.contains('btn__uphide') && !this.el.classList.contains('btn__uphiding')) {\n            this.el.classList.remove('btn__uphide');\n            this.el.classList.add('btn__uphiding');\n            window.setTimeout(() => {\n                this.el.classList.remove('btn__uphiding');\n            }, 300);\n        }\n    },\n    hide() {\n        if (!this.el.classList.contains('btn__uphide') && !this.el.classList.contains('btn__uphiding')) {\n            this.el.classList.add('btn__uphiding');\n            window.setTimeout(() => {\n                this.el.classList.add('btn__uphide');\n                this.el.classList.remove('btn__uphiding');\n            }, 300);\n        }\n    },\n    addEventListener() {\n        // При прокрутці вікна (window)\n        window.addEventListener('scroll', () => {\n            const scrollY = window.scrollY || document.documentElement.scrollTop;\n            if (this.scrolling && scrollY > 0) {\n                return;\n            }\n            this.scrolling = false;\n            // якщо користувачи прокрутив сторінку більше ніж на 400px\n            if (scrollY > 400) {\n                // робимо кнопку .btn-up видимою\n                this.show();\n            } else {\n                // інакше приховуємо кнопку .btn-up\n                this.hide();\n            }\n        });\n        // при натиску на кнопку .btn-up\n        document.querySelector('.btn__up').onclick = () => {\n            this.scrolling = true;\n            this.hide();\n            // перемістимось в верхню частину сторніки\n            window.scrollTo({\n                top: 0,\n                left: 0,\n                behavior: 'smooth'\n            });\n        }\n    }\n}\n\nbtnUp.addEventListener();"],"names":["parcelRequire","$hRk2o","$7Y9D8","$39c0eac7cab5b4b4$var$refs","container","document","querySelector","$df1659493d33f440$var$refs","$df1659493d33f440$var$newsApiBooksService","default","$df1659493d33f440$var$onError","Notify","failure","getTopBooks","then","data","length","markup","map","list_name","books","book_image","title","author","_id","join","innerHTML","catch","addEventListener","e","target","nodeName","nameCategory","textContent","trim","getBooksByCategory","$30sl8","$aLZAN","classList","contains","searchCardById","dataset","id","$dMKZ2","previousElementSibling","window","scrollTo","el","scrolling","show","this","remove","add","setTimeout","hide","scrollY","documentElement","scrollTop","onclick","top","left","behavior"],"version":3,"file":"index.4b841dce.js.map"}